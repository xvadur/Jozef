---
import { Icon } from "astro-icon/components";
import BrutalistButton from "./ui/BrutalistButton.astro";

const navLinks = [
  { href: "/", label: "xvadur" },
  { href: "/jozo", label: "Jožo" },
  { href: "/ai-recepcia", label: "AI Recepcia" },
  { href: "/blog", label: "Blog" },
];
---

<header
  class="w-full sticky top-0 z-50"
  style="background-color: var(--color-bg); border-bottom: 2px solid var(--color-black);"
  role="banner"
>
  <nav
    class="max-w-7xl mx-auto flex items-center justify-between px-6 py-4"
    aria-label="Main navigation"
  >
    <!-- Logo -->
    <a
      href="/"
      class="text-xl font-bold tracking-tight hover:text-[#4FC3F7] transition-colors"
      style="font-family: var(--font-sans); color: var(--color-text);"
      aria-label="xvadur - domov"
    >
      xvadur
    </a>

    <!-- Mobile menu button -->
    <button
      type="button"
      class="md:hidden p-2"
      aria-label="Otvoriť menu"
      aria-expanded="false"
      aria-controls="mobile-menu"
      id="mobile-menu-button"
    >
      <Icon name="tabler:menu-2" class="w-6 h-6" aria-hidden="true" />
    </button>

    <!-- Desktop nav -->
    <ul class="hidden md:flex items-center gap-8" role="list">
      {navLinks.map(link => (
        <li>
          <a
            href={link.href}
            class="text-sm font-medium uppercase tracking-wider hover:text-[#4FC3F7] transition-colors"
            style="color: var(--color-text);"
          >
            {link.label}
          </a>
        </li>
      ))}
      <li>
        <BrutalistButton href="https://cal.com/xvadur" variant="pink" size="sm" target="_blank">
          Book a Call
        </BrutalistButton>
      </li>
    </ul>
  </nav>

  <!-- Mobile menu -->
  <div
    id="mobile-menu"
    class="hidden md:hidden px-6 pb-4"
    style="border-top: 2px solid var(--color-black);"
    role="menu"
  >
    <ul class="flex flex-col gap-3 pt-4" role="list">
      {navLinks.map(link => (
        <li>
          <a
            href={link.href}
            class="block text-sm font-medium uppercase tracking-wider hover:text-[#4FC3F7] transition-colors"
            role="menuitem"
          >
            {link.label}
          </a>
        </li>
      ))}
      <li class="pt-2">
        <BrutalistButton href="https://cal.com/xvadur" variant="pink" size="sm" target="_blank">
          Book a Call
        </BrutalistButton>
      </li>
    </ul>
  </div>
</header>

<script>
  const menuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");
  if (menuButton && mobileMenu) {
    menuButton.addEventListener("click", () => {
      const isExpanded = menuButton.getAttribute("aria-expanded") === "true";
      menuButton.setAttribute("aria-expanded", String(!isExpanded));
      mobileMenu.classList.toggle("hidden");
    });
  }
</script>
